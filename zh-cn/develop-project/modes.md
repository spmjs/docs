# 不同的应用类型

## 应用分类

这里把应用简单地分成单页和多页两类。

### 单页应用
  
相对简单，理论上只需要引入一个 css 和一个 js 即可。比如 TODO 应用、淘宝首页、支付宝首页、Chrome 插件等，都属此类。

### 多页应用

包含多个页面，并且出于维护性或性能(缓存)上的考虑，在所有页面公共引入一个或多个文件。比如支付宝的收银台(选择、确认、结果)，淘宝的购物流程(购物车、确认订单、结果)，以及大部分网站(首页、列表、详情)，都属此类。


## SPM 的构建策略

首先要熟悉 SPM 构建的两个参数：include 和 ignore ，通过这两个参数的组合，理论上可适应各种应用模式。

### include

打包策略，可选 relative、all、standalone，分别表示打包相对依赖、打包所有依赖、打包所有依赖并可自运行，默认为 relative。

注意：standalone 会忽略 ignore 参数。

### ignore

指定不进行 transport 的依赖，这些依赖：

1. id 不会被 transport
1. 文件不会被打包进来

和 seajs.alias 配合使用，可解决多页面公用组件的问题。

## 总结

1. 单页应用 `--include standalone`
1. 多页应用 `--include all` + `--ignore` + `seajs.alias`
